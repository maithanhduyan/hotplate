# ğŸ“‹ Äá» bÃ i Tháº£o luáº­n â€” Hotplate: HÆ°á»›ng phÃ¡t triá»ƒn tiáº¿p theo

## NgÃ y: 2025-07-15
## Participants: GPT (Visionary), Gemini (Pragmatist)
## Äiá»u phá»‘i: Orchestra

---

## 1. Bá»‘i cáº£nh dá»± Ã¡n

**Hotplate** lÃ  Rust-powered HTTPS live-reload dev server + VS Code extension + MCP server.

### Tráº¡ng thÃ¡i hiá»‡n táº¡i (v0.1.3)
- **Phase 1-4 hoÃ n thÃ nh**: Core server, DX features, VS Code extension, MCP server (11/11 tools)
- **Kiáº¿n trÃºc**: Single Rust binary (~8MB) + thin JS extension wrapper
- **MCP tools Ä‘Ã£ cÃ³**: start, stop, status, reload, inject, screenshot, console, network, server_logs, dom, eval
- **Channel architecture**: `broadcast<String>` cho WS messages, `mpsc` cho screenshot/dom/eval responses
- **Browser agent** (`livereload.js`, 236 LOC): WS handlers (reload, css, inject, screenshot, dom_query, eval) + interceptors (console, fetch, onerror)
- **Event sourcing**: JSONL event log ghi má»i hoáº¡t Ä‘á»™ng
- **Protocol**: String-based (`inject:js:...`, `screenshot:{id}`, `dom_query:{id}:{selector}`, `eval:{id}:{code}`)

### RÃ ng buá»™c ká»¹ thuáº­t
- `include_str!` caching â€” pháº£i `cargo clean -p hotplate` khi sá»­a `livereload.js`
- Binary file lock khi MCP process Ä‘ang cháº¡y
- Browser caching cáº§n clear qua CDP
- VS Code MCP API váº«n lÃ  Proposed API (v1.100)

---

## 2. TÃ i liá»‡u roadmap má»›i (docs/new_roadmap.md) â€” TÃ³m táº¯t

TÃ i liá»‡u Ä‘á» xuáº¥t 3 giai Ä‘oáº¡n biáº¿n Ä‘á»•i:

### Giai Ä‘oáº¡n 1: AI-controlled browser runtime
- **Layer B**: Browser state graph (DOM snapshot, resource graph, component tree)
- **Layer C**: Deterministic replay tá»« JSONL (time travel, bisect bugs)
- **Layer D**: Multi-agent control (coding/QA/UX agents)
- **Tools má»›i**: navigate, click, type, viewport, performance_trace, js_coverage
- **Protocol refactor**: `broadcast<String>` â†’ `broadcast<BrowserCommand>` enum; string WS â†’ structured JSON

### Giai Ä‘oáº¡n 2: Bio-direct interface runtime
- AI táº¡o UI â†’ user tÆ°Æ¡ng tÃ¡c â†’ WS gá»­i event â†’ AI Ä‘á»c context â†’ AI quyáº¿t Ä‘á»‹nh â†’ inject UI má»›i
- **Tools má»›i**: ui_render, ui_patch, user_events, state_get/set, workflow_next
- **Use cases**: Hospital triage, hotel booking, government procedures, smart kiosk
- **Interaction event bus**: UserAction, ButtonClick, FormSubmit, InputChange

### Giai Ä‘oáº¡n 3: Viá»…n cáº£nh 10-20 nÄƒm
- Remote browser compute (cloud/edge/mobile)
- Programmable reality layer
- AI operating system cho interaction

---

## 3. CÃ¢u há»i cáº§n tháº£o luáº­n (â‰¥5 cÃ¢u)

### Q1: Protocol Refactor â€” Khi nÃ o vÃ  nhÆ° tháº¿ nÃ o?
`broadcast<String>` â†’ `broadcast<BrowserCommand>` enum + structured JSON WS protocol.
- Effort estimate? Breaking changes? Migration path?
- CÃ³ cáº§n lÃ m ngay hay hiá»‡n táº¡i string-based Ä‘á»§ tá»‘t?

### Q2: Navigation/Click/Input tools â€” Build hay dÃ¹ng Playwright MCP?
Roadmap Ä‘á» xuáº¥t `hotplate_navigate`, `hotplate_click`, `hotplate_type`.
- Äiá»u nÃ y overlap trá»±c tiáº¿p vá»›i Playwright MCP server (Ä‘Ã£ cÃ³ sáºµn).
- Hotplate cÃ³ lá»£i tháº¿ gÃ¬ so vá»›i Playwright? CÃ³ nÃªn duplicate?
- Hay nÃªn táº­p trung vÃ o nhá»¯ng thá»© Playwright KHÃ”NG cÃ³ (live-reload loop, event sourcing)?

### Q3: User Event Bus + UI Render â€” GiÃ¡ trá»‹ thá»±c sá»±?
Bio-direct vision: AI táº¡o UI, user tÆ°Æ¡ng tÃ¡c, AI Ä‘á»c event, AI quyáº¿t Ä‘á»‹nh tiáº¿p.
- ÄÃ¢y lÃ  product pivot (tá»« dev tool â†’ kiosk runtime) hay feature extension?
- Target audience thay Ä‘á»•i hoÃ n toÃ n: tá»« web developer â†’ hospital/hotel/government?
- ROI so vá»›i community size? Open-source adoption risk?

### Q4: Self-healing dev loop â€” Killer feature?
Flow: file change â†’ error â†’ AI Ä‘á»c log â†’ AI patch â†’ reload â†’ verify.
- ÄÃ¢y cÃ³ pháº£i feature cÃ³ giÃ¡ trá»‹ x10/x100 productivity nháº¥t?
- Cáº§n gÃ¬ thÃªm ngoÃ i 11 tools hiá»‡n táº¡i Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c?
- So sÃ¡nh vá»›i cÃ¡c tool khÃ¡c Ä‘ang lÃ m Ä‘iá»u tÆ°Æ¡ng tá»±?

### Q5: Æ¯u tiÃªn â€” Top 3 features nÃªn build tiáº¿p?
Vá»›i resource háº¡n cháº¿ (1-2 developer), tá»« danh sÃ¡ch:
- Protocol refactor (broadcast enum + structured WS)
- Navigate/click/type tools
- DOM snapshot tool nÃ¢ng cao
- Session replay tá»« event log
- User event bus
- UI render tool
- Workflow engine
- VS Code control panel

**Chá»n top 3** vÃ  giáº£i thÃ­ch táº¡i sao theo thá»© tá»± Æ°u tiÃªn.

### Q6: Positioning â€” Hotplate lÃ  gÃ¬?
- A: Dev server thÃ´ng minh (cáº¡nh tranh Live Server, Vite dev server)?
- B: AI-controlled browser runtime (cáº¡nh tranh Playwright)?
- C: Bio-direct interface runtime (category má»›i)?
- Chá»n 1 Ä‘á»‹nh vá»‹ â†’ áº£nh hÆ°á»Ÿng toÃ n bá»™ kiáº¿n trÃºc vÃ  marketing.

---

## 4. TiÃªu chÃ­ Ä‘Ã¡nh giÃ¡

| TiÃªu chÃ­ | Trá»ng sá»‘ |
|-----------|----------|
| **Developer productivity gain** (x10/x100?) | 30% |
| **Kháº£ thi vá»›i 1-2 dev** (effort vs impact) | 25% |
| **Differentiator** (khÃ´ng ai khÃ¡c lÃ m tá»‘t) | 20% |
| **Community adoption potential** | 15% |
| **Architectural soundness** (khÃ´ng táº¡o tech debt lá»›n) | 10% |

---

## 5. YÃªu cáº§u cho má»—i agent

- Tráº£ lá»i tá»«ng cÃ¢u há»i Q1-Q6 vá»›i láº­p luáº­n rÃµ rÃ ng
- Dáº«n chá»©ng code thá»±c táº¿ trong workspace khi cáº§n
- Äá» xuáº¥t cá»¥ thá»ƒ (khÃ´ng chung chung)
- So sÃ¡nh vá»›i industry benchmarks/tools Ä‘Ã£ cÃ³
- NÃªu rÃµ trade-offs cá»§a má»—i quyáº¿t Ä‘á»‹nh
